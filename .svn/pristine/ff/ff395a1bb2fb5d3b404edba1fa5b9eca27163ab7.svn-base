# - Find GADGETEER
# Find the native GADGETEER headers and libraries.
#
#  GADGETEER_INCLUDE_DIR -  where to find header files.
#  GADGETEER_LIBRARIES    - List of libraries when using Gadgeteer.
#  GADGETEER_FOUND        - True if Gadgeteer found.


# Look for the header file.
FIND_PATH(GADGETEER_INCLUDE_DIR NAMES gadget/Type/PositionInterface.h
                             PATHS $ENV{H3D_EXTERNAL_ROOT}/include
                                   ../../External/include )
MARK_AS_ADVANCED(GADGETEER_INCLUDE_DIR)

FIND_PATH(VRJUGGLER_INCLUDE_DIR NAMES vrj/vrjConfig.h
                             PATHS $ENV{H3D_EXTERNAL_ROOT}/include
                                   ../../External/include )
MARK_AS_ADVANCED(VRJUGGLER_INCLUDE_DIR)

FIND_PATH(VPR_INCLUDE_DIR NAMES vpr/vpr.h
                             PATHS $ENV{H3D_EXTERNAL_ROOT}/include
                                   ../../External/include )
MARK_AS_ADVANCED(VPR_INCLUDE_DIR)

FIND_PATH(JCCL_INCLUDE_DIR NAMES jccl/jcclConfig.h
                             PATHS $ENV{H3D_EXTERNAL_ROOT}/include
                                   ../../External/include )
MARK_AS_ADVANCED(JCCL_INCLUDE_DIR)

FIND_PATH(GMTL_INCLUDE_DIR NAMES gmtl/gmtl.h
                             PATHS $ENV{H3D_EXTERNAL_ROOT}/include
                                   ../../External/include )
MARK_AS_ADVANCED(GMTL_INCLUDE_DIR)

# Look for the library.
FIND_LIBRARY(GADGETEER_LIBRARY NAMES gadget-1_2
                            PATHS $ENV{H3D_EXTERNAL_ROOT}/lib
                                  ../../External/lib )
MARK_AS_ADVANCED(GADGETEER_LIBRARY)

FIND_LIBRARY(VRJUGGLER_LIBRARY NAMES vrj
                            PATHS $ENV{H3D_EXTERNAL_ROOT}/lib
                                  ../../External/lib )
MARK_AS_ADVANCED(VRJUGGLER_LIBRARY)

FIND_LIBRARY(VPR_LIBRARY NAMES vpr-2_0
                            PATHS $ENV{H3D_EXTERNAL_ROOT}/lib
                                  ../../External/lib )
MARK_AS_ADVANCED(VPR_LIBRARY)

FIND_LIBRARY(JCCL_LIBRARY NAMES jccl-1_2
                            PATHS $ENV{H3D_EXTERNAL_ROOT}/lib
                                  ../../External/lib )
MARK_AS_ADVANCED(JCCL_LIBRARY)

# Copy the results to the output variables.
IF(GADGETEER_INCLUDE_DIR AND GADGETEER_LIBRARY AND
   VRJUGGLER_INCLUDE_DIR AND VRJUGGLER_LIBRARY AND
   VPR_INCLUDE_DIR AND VPR_LIBRARY AND
   JCCL_INCLUDE_DIR AND JCCL_LIBRARY AND
   GMTL_INCLUDE_DIR)
  SET(GADGETEER_FOUND 1)

  SET(GADGETEER_LIBRARIES ${GADGETEER_LIBRARY})
  SET(GADGETEER_INCLUDE_DIR ${GADGETEER_INCLUDE_DIR})

  SET(GADGETEER_LIBRARIES ${GADGETEER_LIBRARIES} ${VRJUGGLER_LIBRARY})
  SET(GADGETEER_INCLUDE_DIR ${GADGETEER_INCLUDE_DIR} ${VRJUGGLER_INCLUDE_DIR})

  SET(GADGETEER_LIBRARIES ${GADGETEER_LIBRARIES} ${VPR_LIBRARY})
  SET(GADGETEER_INCLUDE_DIR ${GADGETEER_INCLUDE_DIR} ${VPR_INCLUDE_DIR})

  SET(GADGETEER_LIBRARIES ${GADGETEER_LIBRARIES} ${JCCL_LIBRARY})
  SET(GADGETEER_INCLUDE_DIR ${GADGETEER_INCLUDE_DIR} ${JCCL_INCLUDE_DIR})

  SET(GADGETEER_INCLUDE_DIR ${GADGETEER_INCLUDE_DIR} ${GMTL_INCLUDE_DIR})

ELSE(GADGETEER_INCLUDE_DIR AND GADGETEER_LIBRARY AND
     VRJUGGLER_INCLUDE_DIR AND VRJUGGLER_LIBRARY AND
     VPR_INCLUDE_DIR AND VPR_LIBRARY AND
     JCCL_INCLUDE_DIR AND JCCL_LIBRARY AND
     GMTL_INCLUDE_DIR)
  SET(GADGETEER_FOUND 0)
  SET(GADGETEER_LIBRARIES)
  SET(GADGETEER_INCLUDE_DIR)
ENDIF(GADGETEER_INCLUDE_DIR AND GADGETEER_LIBRARY AND
      VRJUGGLER_INCLUDE_DIR AND VRJUGGLER_LIBRARY AND
      VPR_INCLUDE_DIR AND VPR_LIBRARY AND
      JCCL_INCLUDE_DIR AND JCCL_LIBRARY AND
      GMTL_INCLUDE_DIR)

# Report the results.
IF(NOT GADGETEER_FOUND)
  SET(GADGETEER_DIR_MESSAGE
    "Gadgeteer was not found.")
  IF(GADGETEER_FIND_REQUIRED)
    MESSAGE(FATAL_ERROR "${GADGETEER_DIR_MESSAGE}")
  ELSEIF(NOT GADGETEER_FIND_QUIETLY)
    MESSAGE(STATUS "${GADGETEER_DIR_MESSAGE}")
  ENDIF(GADGETEER_FIND_REQUIRED)
ENDIF(NOT GADGETEER_FOUND)
